<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=JamFox><link href=https://docs.jamfox.dev/content/homelab/proxmox/ rel=canonical><link href=../gmkteck10/ rel=prev><link href=../rpi/ rel=next><link rel=icon href=../../../assets/icon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.12"><title>Proxmox VE - JamFox's Documentation</title><link rel=stylesheet href=../../../assets/stylesheets/main.7e359304.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script defer src=https://cloud.umami.is/script.js data-website-id=bead9d93-4ef7-4e94-b53b-c936abe55767></script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=light-blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#setup class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="JamFox's Documentation" class="md-header__button md-logo" aria-label="JamFox's Documentation" data-md-component=logo> <img src=../../../assets/icon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> JamFox's Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Proxmox VE </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/JamFox/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> github.com/JamFox </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> HomeLab </a> </li> <li class=md-tabs__item> <a href=../../devops/ class=md-tabs__link> DevOps </a> </li> <li class=md-tabs__item> <a href=../../food/ class=md-tabs__link> Food & Drinks </a> </li> <li class=md-tabs__item> <a href=../../links/ class=md-tabs__link> Links </a> </li> <li class=md-tabs__item> <a href=../../extras/ class=md-tabs__link> Other </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="JamFox's Documentation" class="md-nav__button md-logo" aria-label="JamFox's Documentation" data-md-component=logo> <img src=../../../assets/icon.png alt=logo> </a> JamFox's Documentation </label> <div class=md-nav__source> <a href=https://github.com/JamFox/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> github.com/JamFox </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> HomeLab </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> HomeLab </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../family/ class=md-nav__link> <span class=md-ellipsis> JamLab Family Guide </span> </a> </li> <li class=md-nav__item> <a href=../podman/ class=md-nav__link> <span class=md-ellipsis> Podman </span> </a> </li> <li class=md-nav__item> <a href=../networking/ class=md-nav__link> <span class=md-ellipsis> Networking </span> </a> </li> <li class=md-nav__item> <a href=../power/ class=md-nav__link> <span class=md-ellipsis> Power </span> </a> </li> <li class=md-nav__item> <a href=../rack/ class=md-nav__link> <span class=md-ellipsis> Rack </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex> <span class=md-ellipsis> Servers </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Servers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ds220/ class=md-nav__link> <span class=md-ellipsis> Synology DS220+ </span> </a> </li> <li class=md-nav__item> <a href=../gmkteck10/ class=md-nav__link> <span class=md-ellipsis> GMKtec K10 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_8 checked> <label class=md-nav__link for=__nav_2_8 id=__nav_2_8_label tabindex> <span class=md-ellipsis> Operating systems </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_8_label aria-expanded=true> <label class=md-nav__title for=__nav_2_8> <span class="md-nav__icon md-icon"></span> Operating systems </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Proxmox VE </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Proxmox VE </span> </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> <nav class=md-nav aria-label=Setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gpu-fixes class=md-nav__link> <span class=md-ellipsis> GPU fixes </span> </a> <nav class=md-nav aria-label="GPU fixes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installer-stuck-black-screen-with-gpu class=md-nav__link> <span class=md-ellipsis> Installer stuck black screen with GPU </span> </a> </li> <li class=md-nav__item> <a href=#networking-will-fail-to-initialize-with-gpu class=md-nav__link> <span class=md-ellipsis> Networking will fail to initialize with GPU </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#proxmox-ve-no-subscription-repository class=md-nav__link> <span class=md-ellipsis> Proxmox VE No-Subscription Repository </span> </a> </li> <li class=md-nav__item> <a href=#networking class=md-nav__link> <span class=md-ellipsis> Networking </span> </a> <nav class=md-nav aria-label=Networking> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-linux-networking class=md-nav__link> <span class=md-ellipsis> Using Linux networking </span> </a> </li> <li class=md-nav__item> <a href=#using-netplan class=md-nav__link> <span class=md-ellipsis> Using netplan </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#user-creation class=md-nav__link> <span class=md-ellipsis> User creation </span> </a> </li> <li class=md-nav__item> <a href=#disk-pools class=md-nav__link> <span class=md-ellipsis> Disk pools </span> </a> </li> <li class=md-nav__item> <a href=#clustering class=md-nav__link> <span class=md-ellipsis> Clustering </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#administration class=md-nav__link> <span class=md-ellipsis> Administration </span> </a> <nav class=md-nav aria-label=Administration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#host-key-verification-failed-failed-to-run-vncproxy class=md-nav__link> <span class=md-ellipsis> "Host key verification failed. Failed to run vncproxy." </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vm-creation class=md-nav__link> <span class=md-ellipsis> VM creation </span> </a> <nav class=md-nav aria-label="VM creation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#iso-upload class=md-nav__link> <span class=md-ellipsis> ISO Upload </span> </a> </li> <li class=md-nav__item> <a href=#vm-template-builds-and-iso-upload-with-packer class=md-nav__link> <span class=md-ellipsis> VM Template Builds (and ISO Upload) with Packer </span> </a> </li> <li class=md-nav__item> <a href=#vm-provisioning-with-terraform class=md-nav__link> <span class=md-ellipsis> VM Provisioning with Terraform </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vm-procedures class=md-nav__link> <span class=md-ellipsis> VM procedures </span> </a> <nav class=md-nav aria-label="VM procedures"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#disk-increase class=md-nav__link> <span class=md-ellipsis> Disk increase </span> </a> </li> <li class=md-nav__item> <a href=#vm-disk-migration class=md-nav__link> <span class=md-ellipsis> VM Disk Migration </span> </a> <nav class=md-nav aria-label="VM Disk Migration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vm-live-storage-move-migration-no-downtime class=md-nav__link> <span class=md-ellipsis> VM live storage move migration (no downtime) </span> </a> </li> <li class=md-nav__item> <a href=#vm-backup-restore-migration-with-downtime class=md-nav__link> <span class=md-ellipsis> VM backup restore migration (with downtime) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vm-migration-to-another-node class=md-nav__link> <span class=md-ellipsis> VM Migration To Another Node </span> </a> </li> <li class=md-nav__item> <a href=#foreign-qemukvm-migration-to-proxmox class=md-nav__link> <span class=md-ellipsis> Foreign QEMU/KVM migration to Proxmox </span> </a> </li> <li class=md-nav__item> <a href=#vm-with-nvidia-gpu-passthrough class=md-nav__link> <span class=md-ellipsis> VM with Nvidia GPU passthrough </span> </a> <nav class=md-nav aria-label="VM with Nvidia GPU passthrough"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-the-vm class=md-nav__link> <span class=md-ellipsis> Creating the VM </span> </a> </li> <li class=md-nav__item> <a href=#configuring-the-vm class=md-nav__link> <span class=md-ellipsis> Configuring the VM </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../rpi/ class=md-nav__link> <span class=md-ellipsis> Raspberry Pi </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_9> <label class=md-nav__link for=__nav_2_9 id=__nav_2_9_label tabindex> <span class=md-ellipsis> Configuration Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_9> <span class="md-nav__icon md-icon"></span> Configuration Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ansible/ class=md-nav__link> <span class=md-ellipsis> Ansible </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10> <label class=md-nav__link for=__nav_2_10 id=__nav_2_10_label tabindex> <span class=md-ellipsis> DNS </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_10_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10> <span class="md-nav__icon md-icon"></span> DNS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../dnsmasq/ class=md-nav__link> <span class=md-ellipsis> Dnsmasq </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_11> <label class=md-nav__link for=__nav_2_11 id=__nav_2_11_label tabindex> <span class=md-ellipsis> Games </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_11_label aria-expanded=false> <label class=md-nav__title for=__nav_2_11> <span class="md-nav__icon md-icon"></span> Games </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../minecraft/ class=md-nav__link> <span class=md-ellipsis> Minecraft Servers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_12> <label class=md-nav__link for=__nav_2_12 id=__nav_2_12_label tabindex> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_12_label aria-expanded=false> <label class=md-nav__title for=__nav_2_12> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../jamlabnomad/ class=md-nav__link> <span class=md-ellipsis> JamLab Nomad </span> </a> </li> <li class=md-nav__item> <a href=../dl380g9/ class=md-nav__link> <span class=md-ellipsis> HP DL380 G9 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../devops/ class=md-nav__link> <span class=md-ellipsis> DevOps </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../food/ class=md-nav__link> <span class=md-ellipsis> Food & Drinks </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../links/ class=md-nav__link> <span class=md-ellipsis> Links </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../extras/ class=md-nav__link> <span class=md-ellipsis> Other </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> <nav class=md-nav aria-label=Setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gpu-fixes class=md-nav__link> <span class=md-ellipsis> GPU fixes </span> </a> <nav class=md-nav aria-label="GPU fixes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installer-stuck-black-screen-with-gpu class=md-nav__link> <span class=md-ellipsis> Installer stuck black screen with GPU </span> </a> </li> <li class=md-nav__item> <a href=#networking-will-fail-to-initialize-with-gpu class=md-nav__link> <span class=md-ellipsis> Networking will fail to initialize with GPU </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#proxmox-ve-no-subscription-repository class=md-nav__link> <span class=md-ellipsis> Proxmox VE No-Subscription Repository </span> </a> </li> <li class=md-nav__item> <a href=#networking class=md-nav__link> <span class=md-ellipsis> Networking </span> </a> <nav class=md-nav aria-label=Networking> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-linux-networking class=md-nav__link> <span class=md-ellipsis> Using Linux networking </span> </a> </li> <li class=md-nav__item> <a href=#using-netplan class=md-nav__link> <span class=md-ellipsis> Using netplan </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#user-creation class=md-nav__link> <span class=md-ellipsis> User creation </span> </a> </li> <li class=md-nav__item> <a href=#disk-pools class=md-nav__link> <span class=md-ellipsis> Disk pools </span> </a> </li> <li class=md-nav__item> <a href=#clustering class=md-nav__link> <span class=md-ellipsis> Clustering </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#administration class=md-nav__link> <span class=md-ellipsis> Administration </span> </a> <nav class=md-nav aria-label=Administration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#host-key-verification-failed-failed-to-run-vncproxy class=md-nav__link> <span class=md-ellipsis> "Host key verification failed. Failed to run vncproxy." </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vm-creation class=md-nav__link> <span class=md-ellipsis> VM creation </span> </a> <nav class=md-nav aria-label="VM creation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#iso-upload class=md-nav__link> <span class=md-ellipsis> ISO Upload </span> </a> </li> <li class=md-nav__item> <a href=#vm-template-builds-and-iso-upload-with-packer class=md-nav__link> <span class=md-ellipsis> VM Template Builds (and ISO Upload) with Packer </span> </a> </li> <li class=md-nav__item> <a href=#vm-provisioning-with-terraform class=md-nav__link> <span class=md-ellipsis> VM Provisioning with Terraform </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vm-procedures class=md-nav__link> <span class=md-ellipsis> VM procedures </span> </a> <nav class=md-nav aria-label="VM procedures"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#disk-increase class=md-nav__link> <span class=md-ellipsis> Disk increase </span> </a> </li> <li class=md-nav__item> <a href=#vm-disk-migration class=md-nav__link> <span class=md-ellipsis> VM Disk Migration </span> </a> <nav class=md-nav aria-label="VM Disk Migration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vm-live-storage-move-migration-no-downtime class=md-nav__link> <span class=md-ellipsis> VM live storage move migration (no downtime) </span> </a> </li> <li class=md-nav__item> <a href=#vm-backup-restore-migration-with-downtime class=md-nav__link> <span class=md-ellipsis> VM backup restore migration (with downtime) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vm-migration-to-another-node class=md-nav__link> <span class=md-ellipsis> VM Migration To Another Node </span> </a> </li> <li class=md-nav__item> <a href=#foreign-qemukvm-migration-to-proxmox class=md-nav__link> <span class=md-ellipsis> Foreign QEMU/KVM migration to Proxmox </span> </a> </li> <li class=md-nav__item> <a href=#vm-with-nvidia-gpu-passthrough class=md-nav__link> <span class=md-ellipsis> VM with Nvidia GPU passthrough </span> </a> <nav class=md-nav aria-label="VM with Nvidia GPU passthrough"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-the-vm class=md-nav__link> <span class=md-ellipsis> Creating the VM </span> </a> </li> <li class=md-nav__item> <a href=#configuring-the-vm class=md-nav__link> <span class=md-ellipsis> Configuring the VM </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/JamFox/docs.jamfox.dev/raw/master/docs/content/homelab/proxmox.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1>Proxmox VE</h1> <div class="admonition info"> <p class=admonition-title>Info</p> <p><a href=https://tteck.github.io/Proxmox/ >Proxmox Scripts</a> | <a href=https://www.proxmox.com/en/ >Proxmox Homepage</a> | <a href=https://www.proxmox.com/en/downloads/category/iso-images-pve>Proxmox VE Downloads</a></p> </div> <p>Proxmox VE is a complete, open-source server management platform for enterprise virtualization. It tightly integrates the KVM hypervisor and Linux Containers (LXC), software-defined storage and networking functionality, on a single platform. With the integrated web-based user interface you can manage VMs and containers, high availability for clusters, or the integrated disaster recovery tools with ease.</p> <h2 id=setup>Setup<a class=headerlink href=#setup title="Anchor link to this section for reference">ඞ</a></h2> <h3 id=gpu-fixes>GPU fixes<a class=headerlink href=#gpu-fixes title="Anchor link to this section for reference">ඞ</a></h3> <p>Machines with GPUs may need tweaking to get working properly.</p> <h4 id=installer-stuck-black-screen-with-gpu>Installer stuck black screen with GPU<a class=headerlink href=#installer-stuck-black-screen-with-gpu title="Anchor link to this section for reference">ඞ</a></h4> <ol> <li>When the ISO loads the menu option 'Install Proxmox VE' should be selected press 'e' to start editing the boot option.</li> <li>On the 4th line (starts with linux) add <code>nomodeset</code> instead of <code>quiet</code></li> <li>Press Ctrl + x</li> <li>After (attempting to) get DHCP the system will state <code>Starting a root shell on tty3</code></li> <li>Wait for the system to detect the installation failure and drop to shell in TTY1 (Do not switch to TTY3)</li> <li>Run <code>chmod 1777 /tmp to unlock /tmp</code></li> <li>Run <code>apt update</code> (to verify that /tmp is unlocked)</li> <li>Run <code>Xorg -configure</code> To generate a new configuration file</li> <li>Run <code>mv /xorg.conf.new /etc/X11/xorg.conf</code> to move the file to the config directory</li> <li>Edit <code>/etc/X11/xorg.conf</code>, search for <code>nouveau</code> (there should be only one occurrence) and replace it with <code>fbdev</code></li> <li>Run <code>startx</code></li> <li>Enjoy a working GUI installer</li> <li>Use Ctrl + D to restart the system after the installer exits.</li> </ol> <p>PS: After reboot the screen may keep flickering but remote access should now work and it can probably be fixed by installing the proper drivers.</p> <h4 id=networking-will-fail-to-initialize-with-gpu>Networking will fail to initialize with GPU<a class=headerlink href=#networking-will-fail-to-initialize-with-gpu title="Anchor link to this section for reference">ඞ</a></h4> <p>GPUs are loaded before network, however GPUs may fail to load using nouveau driver. If this is the case then after install the host needs to be tweaked manually over IPMI:</p> <ol> <li><code>vi /etc/modprobe.d/blacklist.conf</code></li> </ol> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1></a>blacklist nouveau
<a id=__codelineno-0-2 name=__codelineno-0-2></a>blacklist nvidiafb
</code></pre></div></td></tr></table></div> <ol> <li><code>apt-get remove --purge nvidia*</code></li> <li><code>update-initramfs -u</code></li> <li><code>reboot</code></li> </ol> <h3 id=proxmox-ve-no-subscription-repository>Proxmox VE No-Subscription Repository<a class=headerlink href=#proxmox-ve-no-subscription-repository title="Anchor link to this section for reference">ඞ</a></h3> <p>Without an enterprise PVE license, the default apt repo will error. Remove the enterprise apt list <code>/etc/apt/sources.list.d/pve-enterprise.list</code> and add the <code>pve-no-subscription</code> repo instead. This is done in <a href=https://gitlab.hpc.taltech.ee/hpc/ansible/ansible-mono/-/tree/master/roles/proxmox>Ansible management proxmox role</a>. Adding <code>pve-no-subscription</code> repo is done using <code>soft_apt</code> group variables.</p> <p>We recommend to configure this repository in /etc/apt/sources.list.</p> <p>File /etc/apt/sources.list <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span>
<span class=normal><a href=#__codelineno-1-2>2</a></span>
<span class=normal><a href=#__codelineno-1-3>3</a></span>
<span class=normal><a href=#__codelineno-1-4>4</a></span>
<span class=normal><a href=#__codelineno-1-5>5</a></span>
<span class=normal><a href=#__codelineno-1-6>6</a></span>
<span class=normal><a href=#__codelineno-1-7>7</a></span>
<span class=normal><a href=#__codelineno-1-8>8</a></span>
<span class=normal><a href=#__codelineno-1-9>9</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1></a>deb http://ftp.debian.org/debian bookworm main contrib
<a id=__codelineno-1-2 name=__codelineno-1-2></a>deb http://ftp.debian.org/debian bookworm-updates main contrib
<a id=__codelineno-1-3 name=__codelineno-1-3></a>
<a id=__codelineno-1-4 name=__codelineno-1-4></a># Proxmox VE pve-no-subscription repository provided by proxmox.com,
<a id=__codelineno-1-5 name=__codelineno-1-5></a># NOT recommended for production use
<a id=__codelineno-1-6 name=__codelineno-1-6></a>deb http://download.proxmox.com/debian/pve bookworm pve-no-subscription
<a id=__codelineno-1-7 name=__codelineno-1-7></a>
<a id=__codelineno-1-8 name=__codelineno-1-8></a># security updates
<a id=__codelineno-1-9 name=__codelineno-1-9></a>deb http://security.debian.org/debian-security bookworm-security main contrib
</code></pre></div></td></tr></table></div></p> <h3 id=networking>Networking<a class=headerlink href=#networking title="Anchor link to this section for reference">ඞ</a></h3> <h4 id=using-linux-networking>Using Linux networking<a class=headerlink href=#using-linux-networking title="Anchor link to this section for reference">ඞ</a></h4> <p>To set up VLANs and required networks from the table above follow the steps from <a href=https://pve.proxmox.com/wiki/Network_Configuration>Proxmox Networking docs</a>:</p> <ol> <li>Copy <code>/etc/network/interfaces</code> to <code>/etc/network/interfaces.new</code>: <code>cp /etc/network/interfaces /etc/network/interfaces.new</code></li> <li> <p>Edit <code>/etc/network/interfaces.new</code> with changes.</p> </li> <li> <p>Now you have three choices:</p> </li> <li><code>cp /etc/network/interfaces.new /etc/network/interfaces</code> and run <code>ifreload -a</code> </li> <li>Go to <code>&lt;PVE HOST&gt; &gt; System &gt; Network</code> in the UI and press <code>Apply Configuration</code>. This will move changes from the staging interfaces.new file to /etc/network/interfaces and apply them live.</li> <li>(or reboot PVE node, but this is not recommended if not needed)</li> </ol> <p>NOTE: <strong>NEVER reboot networking services manually</strong>, use the tools/methods mentioned in <a href=https://pve.proxmox.com/wiki/Network_Configuration>Proxmox Networking docs</a>! Manual restarts WILL break VM networking!</p> <h4 id=using-netplan>Using netplan<a class=headerlink href=#using-netplan title="Anchor link to this section for reference">ඞ</a></h4> <p>Using netplan is possible, but not recommended as every tap interface attached to a VM has to be added here in order to be persistent. They will not be added dynamically.</p> <p>The corresponding configuration in /etc/netplan/00-main-conf.yaml might look like this:</p> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Text Only</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1> 1</a></span>
<span class=normal><a href=#__codelineno-2-2> 2</a></span>
<span class=normal><a href=#__codelineno-2-3> 3</a></span>
<span class=normal><a href=#__codelineno-2-4> 4</a></span>
<span class=normal><a href=#__codelineno-2-5> 5</a></span>
<span class=normal><a href=#__codelineno-2-6> 6</a></span>
<span class=normal><a href=#__codelineno-2-7> 7</a></span>
<span class=normal><a href=#__codelineno-2-8> 8</a></span>
<span class=normal><a href=#__codelineno-2-9> 9</a></span>
<span class=normal><a href=#__codelineno-2-10>10</a></span>
<span class=normal><a href=#__codelineno-2-11>11</a></span>
<span class=normal><a href=#__codelineno-2-12>12</a></span>
<span class=normal><a href=#__codelineno-2-13>13</a></span>
<span class=normal><a href=#__codelineno-2-14>14</a></span>
<span class=normal><a href=#__codelineno-2-15>15</a></span>
<span class=normal><a href=#__codelineno-2-16>16</a></span>
<span class=normal><a href=#__codelineno-2-17>17</a></span>
<span class=normal><a href=#__codelineno-2-18>18</a></span>
<span class=normal><a href=#__codelineno-2-19>19</a></span>
<span class=normal><a href=#__codelineno-2-20>20</a></span>
<span class=normal><a href=#__codelineno-2-21>21</a></span>
<span class=normal><a href=#__codelineno-2-22>22</a></span>
<span class=normal><a href=#__codelineno-2-23>23</a></span>
<span class=normal><a href=#__codelineno-2-24>24</a></span>
<span class=normal><a href=#__codelineno-2-25>25</a></span>
<span class=normal><a href=#__codelineno-2-26>26</a></span>
<span class=normal><a href=#__codelineno-2-27>27</a></span>
<span class=normal><a href=#__codelineno-2-28>28</a></span>
<span class=normal><a href=#__codelineno-2-29>29</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1></a>network:
<a id=__codelineno-2-2 name=__codelineno-2-2></a>  version: 2
<a id=__codelineno-2-3 name=__codelineno-2-3></a>  ethernets:
<a id=__codelineno-2-4 name=__codelineno-2-4></a>    tap113i0: {}
<a id=__codelineno-2-5 name=__codelineno-2-5></a>    tap114i0: {}
<a id=__codelineno-2-6 name=__codelineno-2-6></a>    tap115i0: {}  
<a id=__codelineno-2-7 name=__codelineno-2-7></a>    enp129s0f1: {}
<a id=__codelineno-2-8 name=__codelineno-2-8></a>    enp5s0f0: {}
<a id=__codelineno-2-9 name=__codelineno-2-9></a>  vlans:
<a id=__codelineno-2-10 name=__codelineno-2-10></a>    vlan.3701:
<a id=__codelineno-2-11 name=__codelineno-2-11></a>      id: 3701
<a id=__codelineno-2-12 name=__codelineno-2-12></a>      link: enp129s0f1
<a id=__codelineno-2-13 name=__codelineno-2-13></a>  bridges:
<a id=__codelineno-2-14 name=__codelineno-2-14></a>    vmbr0:
<a id=__codelineno-2-15 name=__codelineno-2-15></a>      addresses: [172.21.5.87/24]
<a id=__codelineno-2-16 name=__codelineno-2-16></a>      gateway4: 172.21.5.254
<a id=__codelineno-2-17 name=__codelineno-2-17></a>      interfaces: [enp5s0f0]
<a id=__codelineno-2-18 name=__codelineno-2-18></a>      parameters:  
<a id=__codelineno-2-19 name=__codelineno-2-19></a>        forward-delay: 0
<a id=__codelineno-2-20 name=__codelineno-2-20></a>        stp: false
<a id=__codelineno-2-21 name=__codelineno-2-21></a>    vmbr1:
<a id=__codelineno-2-22 name=__codelineno-2-22></a>      interfaces: 
<a id=__codelineno-2-23 name=__codelineno-2-23></a>        - tap114i0
<a id=__codelineno-2-24 name=__codelineno-2-24></a>        - tap113i0
<a id=__codelineno-2-25 name=__codelineno-2-25></a>        - tap115i0
<a id=__codelineno-2-26 name=__codelineno-2-26></a>        - enp129s0f1
<a id=__codelineno-2-27 name=__codelineno-2-27></a>      parameters: 
<a id=__codelineno-2-28 name=__codelineno-2-28></a>        forward-delay: 0
<a id=__codelineno-2-29 name=__codelineno-2-29></a>        stp: false
</code></pre></div></td></tr></table></div> <h3 id=user-creation>User creation<a class=headerlink href=#user-creation title="Anchor link to this section for reference">ඞ</a></h3> <p>For management purposes, users should be created.</p> <p>To use Packer with a <code>packer</code> user instead of using the root admin privileges for Packer builds (according to <a href=https://github.com/hashicorp/packer-plugin-proxmox/issues/184#issuecomment-1505716258>packer-plugin-proxmox issue</a>):</p> <ul> <li>Add user: <code>pveum useradd packer@pve</code></li> <li>Set user password: <code>pveum passwd packer@pve</code></li> <li>Add role with set privileges: <code>pveum roleadd Packer -privs "VM.Allocate VM.Clone VM.Config.CDROM VM.Config.CPU VM.Config.Cloudinit VM.Config.Disk VM.Config.HWType VM.Config.Memory VM.Config.Network VM.Config.Options VM.Monitor VM.Audit VM.PowerMgmt Datastore.AllocateSpace Datastore.Allocate Datastore.AllocateSpace Datastore.AllocateTemplate Datastore.Audit Sys.Audit VM.Console SDN.Allocate SDN.Audit SDN.Use"</code></li> <li>GUI: for role privs: navigate to the Permissions → Roles tab from Datacenter and click on the Create button. There you can set a role name and select any desired privileges from the Privileges drop-down menu.</li> <li>Add role to user: <code>pveum aclmod / -user packer@pve -role Packer</code></li> </ul> <p>To use Terraform with <code>terraform</code> user (according to <a href=https://registry.terraform.io/providers/Telmate/proxmox/latest/docs#creating-the-proxmox-user-and-role-for-terraform>Telmate provider doc</a>):</p> <ul> <li>Add user: <code>pveum useradd terraform@pve</code></li> <li>Set user password: <code>pveum passwd terraform@pve</code></li> <li>Add role with set privileges: <code>pveum roleadd Terraform -privs "Datastore.AllocateSpace Datastore.Audit Pool.Allocate Sys.Audit Sys.Console Sys.Modify VM.Allocate VM.Audit VM.Clone VM.Config.CDROM VM.Config.Cloudinit VM.Config.CPU VM.Config.Disk VM.Config.HWType VM.Config.Memory VM.Config.Network VM.Config.Options VM.Migrate VM.Monitor VM.PowerMgmt SDN.Allocate SDN.Audit SDN.Use"</code></li> <li>GUI: for role privs: navigate to the Permissions → Roles tab from Datacenter and click on the Create button. There you can set a role name and select any desired privileges from the Privileges drop-down menu.</li> <li>Add role to user: <code>pveum aclmod / -user terraform@pve -role Terraform</code></li> </ul> <p>API token can be generated in the UI from <code>Datacenter</code> tab from <code>Permissions &gt; API Tokens</code> menu and then from the button <code>Add</code>.</p> <p><a href=https://pve.proxmox.com/wiki/User_Management>User Management</a></p> <h3 id=disk-pools>Disk pools<a class=headerlink href=#disk-pools title="Anchor link to this section for reference">ඞ</a></h3> <p>Root storage is created on installation using with ZFS and RAID by default.</p> <p>LVM-thin storage for VMs was created on 15K SAS disks:</p> <ol> <li>Wipe disks that you wish to use: <code>wipefs -a /dev/sda /dev/sdb /dev/sdc /dev/sdd</code></li> <li>Create physical volumes: <code>pvcreate /dev/sda /dev/sdb /dev/sdc /dev/sdd</code></li> <li>Create volume group: <code>vgcreate vgrp /dev/sda /dev/sdb /dev/sdc /dev/sdd</code></li> <li>Create thin-pool on the volume group: <code>lvcreate -L 2T --thinpool thpl vgrp</code></li> <li>From <code>Datacenter -&gt; Storage</code>, add an <code>LVM-Thin</code> storage</li> </ol> <p>Directory storage for backups was created on 4TB HDDs:</p> <ol> <li>Wipe disks that you wish to use: <code>wipefs -a /dev/sde /dev/sdf</code></li> <li>Create mirrored pool with disks: <code>zpool create tank mirror /dev/sde /dev/sdf</code></li> <li>Disk mount points are bound to change after reboots or hardware changes, resulting in ZPOOL degradation. Hence we will make the zpool use block device identifiers (/dev/disk/by-id) instead of mount-points.</li> <li>Export pool: <code>zpool export tank</code></li> <li><code>zpool import -d /dev/disk/by-id tank</code></li> <li>Importing back with /dev/disk/by-id immediately will seal the disk references.</li> <li>Add it to PVE for storage: <code>pvesm add zfspool tank -pool tank</code></li> <li>Create mountpoint on the zpool: <code>zfs create tank/bkup -o mountpoint=/bkup</code></li> <li>From the GUI via <code>Datacenter -&gt; Storage -&gt; Add -&gt; Directory</code> add a Directory storage with the above <code>mountpoint</code> as the mount.</li> </ol> <p>Mirrored ZFS pool for VMs was created with new 4TB SSDs from the UI <code>Datacenter -&gt; &lt;node&gt; -&gt; Storage -&gt; ZFS -&gt; Create</code> with following parameters: - Name: ssdpool - RAID: RAID10 - Compression: lz4 (recommended by <a href=https://pve.proxmox.com/wiki/ZFS_on_Linux#zfs_compression>Proxmox documentation</a>) - ashift: 12 (<a href=https://jrs-s.net/2018/08/17/zfs-tuning-cheat-sheet/ >Ashift tells ZFS what the underlying physical block size your disks use is.</a> It's in bits, so ashift=9 means 512B sectors (used by all ancient drives), ashift=12 means 4K sectors (used by most modern hard drives), and ashift=13 means 8K sectors (used by some modern SSDs). CT4000MX500 has sector size as follows - logical/physical: 512 bytes / 4096 bytes.) - Devices: <code>/dev/sdi /dev/sdj /dev/sdk /dev/sdl</code></p> <h3 id=clustering>Clustering<a class=headerlink href=#clustering title="Anchor link to this section for reference">ඞ</a></h3> <p>Proxmox supports clustering. For that to be useful, the modes have to have mostly mirroring setups. This applies especially for networking and storage. Migration between nodes is not possible if the network hardware is set to bridges that do not exist on the other machine.</p> <h2 id=administration>Administration<a class=headerlink href=#administration title="Anchor link to this section for reference">ඞ</a></h2> <h3 id=host-key-verification-failed-failed-to-run-vncproxy>"Host key verification failed. Failed to run vncproxy."<a class=headerlink href=#host-key-verification-failed-failed-to-run-vncproxy title="Anchor link to this section for reference">ඞ</a></h3> <p>Make sure <code>/etc/ssh/ssh_known_hosts</code> is up to date. Clean the file and add up to date values for both IPs and hostnames of each PVE node on all PVE nodes manually.</p> <h2 id=vm-creation>VM creation<a class=headerlink href=#vm-creation title="Anchor link to this section for reference">ඞ</a></h2> <p>Main method for creating VMs in Proxmox is via cloning existing VM templates that were built using Packer.</p> <p>To create a clone of a VM template manually from UI:</p> <ul> <li>Use a FQDN for the VM name, e.g. <code>vm-ubuntu-20-04-1.hpc.taltech.ee</code> as this will be used as the hostname for the VM, but <code>vm-ubuntu-20-04-1</code> would not be used as the hostname, instead the template's hostname would be used.</li> <li>Create as a Full Clone not a Linked Clone</li> <li>Change the VM ID to a unique ID, default PVE suggestion should already be fine.</li> <li>Use Cloud Init for the VM configuration; to change IP, DNS, gateway, SSH keys.</li> </ul> <p>To create a clone of a VM template manually from the CLI:</p> <ul> <li>Read Proxmox <a href=https://pve.proxmox.com/wiki/Cloud-Init_Support>Cloud-Init Support docs</a> and <a href=https://pve.proxmox.com/wiki/Cloud-Init_FAQ>Cloud-Init FAQ</a></li> </ul> <h3 id=iso-upload>ISO Upload<a class=headerlink href=#iso-upload title="Anchor link to this section for reference">ඞ</a></h3> <p>ISO images can be uploaded to Proxmox in two ways:</p> <ol> <li>Via CMD and placed in <code>/var/lib/vz/template/iso</code></li> <li><code>cd /var/lib/vz/template/iso &amp;&amp; wget &lt;iso_url&gt;</code></li> <li>Via the Proxmox UI from <code>local (Storage Pool) -&gt; ISO Images -&gt; Upload / Download from URL</code>.</li> </ol> <h3 id=vm-template-builds-and-iso-upload-with-packer>VM Template Builds (and ISO Upload) with Packer<a class=headerlink href=#vm-template-builds-and-iso-upload-with-packer title="Anchor link to this section for reference">ඞ</a></h3> <p>VM templates from ISO images for Proxmox VMs are built using the <a href=https://github.com/JamFox/jamlab-packer>jamlab-packer</a> repository using Hashicorp Packer.</p> <h3 id=vm-provisioning-with-terraform>VM Provisioning with Terraform<a class=headerlink href=#vm-provisioning-with-terraform title="Anchor link to this section for reference">ඞ</a></h3> <p>VMs are provisioned using Packer VM templates from the <a href=https://github.com/JamFox/jamlab-terraform>jamlab-terraform</a> repository using Hashicorp Terraform.</p> <h2 id=vm-procedures>VM procedures<a class=headerlink href=#vm-procedures title="Anchor link to this section for reference">ඞ</a></h2> <h3 id=disk-increase>Disk increase<a class=headerlink href=#disk-increase title="Anchor link to this section for reference">ඞ</a></h3> <p>On the PVE host follow the <a href=https://pve.proxmox.com/wiki/Resize_disks>official documentation procedure</a> to increase the disk size of the VM you wish.</p> <p>Then inside the VM:</p> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Bash</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span>
<span class=normal><a href=#__codelineno-3-2>2</a></span>
<span class=normal><a href=#__codelineno-3-3>3</a></span>
<span class=normal><a href=#__codelineno-3-4>4</a></span>
<span class=normal><a href=#__codelineno-3-5>5</a></span>
<span class=normal><a href=#__codelineno-3-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1></a><span class=c1># Check which partition to resize</span>
<a id=__codelineno-3-2 name=__codelineno-3-2></a>sudo<span class=w> </span>fdisk<span class=w> </span>-l
<a id=__codelineno-3-3 name=__codelineno-3-3></a><span class=c1># Grow partition (notice the space!)</span>
<a id=__codelineno-3-4 name=__codelineno-3-4></a>sudo<span class=w> </span>growpart<span class=w> </span>/dev/sda<span class=w> </span>X
<a id=__codelineno-3-5 name=__codelineno-3-5></a><span class=c1># Resize to fill partition (notice the missing space this time!)</span>
<a id=__codelineno-3-6 name=__codelineno-3-6></a>sudo<span class=w> </span>resize2fs<span class=w> </span>/dev/sdaX
</code></pre></div></td></tr></table></div> <h3 id=vm-disk-migration>VM Disk Migration<a class=headerlink href=#vm-disk-migration title="Anchor link to this section for reference">ඞ</a></h3> <h4 id=vm-live-storage-move-migration-no-downtime>VM live storage move migration (no downtime)<a class=headerlink href=#vm-live-storage-move-migration-no-downtime title="Anchor link to this section for reference">ඞ</a></h4> <p>First, just in case, a backup snapshot was taken: <code>&lt;VM&gt; -&gt; Backup -&gt; Backup Now</code></p> <p>Then the VM migration was started from <code>&lt;VM&gt; -&gt; Hardware -&gt; Select Disk (verify the right one is highlighted and active) -&gt; Disk Action -&gt; Move Storage</code> (VM was not shut down, migration was done live, while the VM was running)</p> <p>Note: cloud-init drive can not be moved similarly, for that the backup restore method must be used.</p> <h4 id=vm-backup-restore-migration-with-downtime>VM backup restore migration (with downtime)<a class=headerlink href=#vm-backup-restore-migration-with-downtime title="Anchor link to this section for reference">ඞ</a></h4> <p>A backup must exist, if it does not, then follow: <code>&lt;VM&gt; -&gt; Backup -&gt; Backup Now</code></p> <p>To restore, follow: <code>&lt;VM&gt; -&gt; Backup -&gt; Restore</code> </p> <p>Then select storage to restore to, check <code>Unique</code> if you wish to destroy the current one (if it exists), check <code>Start after restore</code> if you wish to immediately start it.</p> <p>Note: the restore process creates a new cloud-init drive that is also on the same storage as the restore storage that was selected.</p> <p>Downtime for the test VM with a fairly empty and small disk was less than 30 seconds, results may vary depending on the disk size.</p> <h3 id=vm-migration-to-another-node>VM Migration To Another Node<a class=headerlink href=#vm-migration-to-another-node title="Anchor link to this section for reference">ඞ</a></h3> <p>Both servers have to be exact same versions. This includes packages and kernel.</p> <p>Upgrade, reboot if necessary, check versions on all nodes with: <code>pveversion -v</code></p> <p>Note: if interfaces differ on nodes, you must temporarily replace them with something that exists on both nodes.</p> <h3 id=foreign-qemukvm-migration-to-proxmox>Foreign QEMU/KVM migration to Proxmox<a class=headerlink href=#foreign-qemukvm-migration-to-proxmox title="Anchor link to this section for reference">ඞ</a></h3> <p>To migrate a foreign VM disk to Proxmox: </p> <ol> <li>Copy the foreign VM disk image somewhere on the Proxmox host you wish to migrate to</li> <li>Use the following example to migrate:</li> </ol> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Bash</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1>1</a></span>
<span class=normal><a href=#__codelineno-4-2>2</a></span>
<span class=normal><a href=#__codelineno-4-3>3</a></span>
<span class=normal><a href=#__codelineno-4-4>4</a></span>
<span class=normal><a href=#__codelineno-4-5>5</a></span>
<span class=normal><a href=#__codelineno-4-6>6</a></span>
<span class=normal><a href=#__codelineno-4-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1></a><span class=nv>VM_ID</span><span class=o>=</span><span class=m>666</span><span class=w> </span><span class=c1>#CHANGE ME!</span>
<a id=__codelineno-4-2 name=__codelineno-4-2></a><span class=nv>VM_IMAGE</span><span class=o>=</span>/root/migr-disks/myimage.qcow2<span class=w> </span><span class=c1>#CHANGE ME!</span>
<a id=__codelineno-4-3 name=__codelineno-4-3></a>
<a id=__codelineno-4-4 name=__codelineno-4-4></a>qm<span class=w> </span>create<span class=w> </span><span class=si>${</span><span class=nv>VM_ID</span><span class=si>}</span>
<a id=__codelineno-4-5 name=__codelineno-4-5></a>qm<span class=w> </span>disk<span class=w> </span>import<span class=w> </span><span class=si>${</span><span class=nv>VM_ID</span><span class=si>}</span><span class=w> </span><span class=si>${</span><span class=nv>VM_IMAGE</span><span class=si>}</span><span class=w> </span>local-zfs
<a id=__codelineno-4-6 name=__codelineno-4-6></a>qm<span class=w> </span><span class=nb>set</span><span class=w> </span><span class=si>${</span><span class=nv>VM_ID</span><span class=si>}</span><span class=w> </span>--scsi0<span class=w> </span>local-zfs:vm-<span class=si>${</span><span class=nv>VM_ID</span><span class=si>}</span>-disk-0
<a id=__codelineno-4-7 name=__codelineno-4-7></a>qm<span class=w> </span><span class=nb>set</span><span class=w> </span><span class=si>${</span><span class=nv>VM_ID</span><span class=si>}</span><span class=w> </span>--boot<span class=w> </span><span class=nv>order</span><span class=o>=</span>scsi0
</code></pre></div></td></tr></table></div> <h3 id=vm-with-nvidia-gpu-passthrough>VM with Nvidia GPU passthrough<a class=headerlink href=#vm-with-nvidia-gpu-passthrough title="Anchor link to this section for reference">ඞ</a></h3> <p>Some resources on this:</p> <ul> <li><a href=https://www.reddit.com/r/homelab/comments/b5xpua/the_ultimate_beginners_guide_to_gpu_passthrough/ >The Ultimate Beginner's Guide to GPU Passthrough (Proxmox, Windows 10)</a> and its shorter version <a href=https://www.reddit.com/r/Proxmox/comments/lcnn5w/proxmox_pcie_passthrough_in_2_minutes/ >Proxmox PCI(e) Passthrough in 2 minutes</a></li> <li><a href=https://pve.proxmox.com/wiki/PCI_Passthrough>PCI Passthrough</a></li> <li><a href=https://www.linuxcapable.com/how-to-install-nvidia-drivers-on-rocky-linux/ >How to Install Nvidia Drivers on Rocky Linux 9 or 8</a></li> </ul> <h4 id=creating-the-vm>Creating the VM<a class=headerlink href=#creating-the-vm title="Anchor link to this section for reference">ඞ</a></h4> <p>Create a new VM with following settings.</p> <p>SCSI Controller: <code>VirtIO SCSI Single</code></p> <p>BIOS: <code>OMVF</code> (UEFI, for PCIE support)</p> <p>Machine: <code>q35</code> (for PCIE support)</p> <p>Processor type: <code>host</code> or according to your architecture if that does not work</p> <p>Make sure VM has at least 20GB of space in boot disk.</p> <h4 id=configuring-the-vm>Configuring the VM<a class=headerlink href=#configuring-the-vm title="Anchor link to this section for reference">ඞ</a></h4> <p>After VM is created change some settings.</p> <p>Under <code>Hardware</code> press <code>Add</code> and add a new PCI device, from the <code>Raw device</code> option select your GPU to pass through.</p> <p>Set <code>Display</code> to <code>VirtIO-GPU</code></p> <p>Set <code>PCI Device</code> as <code>Primary GPU</code></p> <p>Then boot the VM and from UEFI settings disable secure boot options and boot.</p> <p>Inside the VM set up the drivers as follows:</p> <p>For Ubuntu: <code>sudo apt install nvidia-driver-535 nvidia-dkms-535</code></p> <p>For RedHat:</p> <ol> <li>Activate the CodeReady Builder (CRB): <code>sudo dnf config-manager --set-enabled crb</code></li> <li>Install EPEL: <code>sudo dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm https://dl.fedoraproject.org/pub/epel/epel-next-release-latest-9.noarch.rpm</code></li> <li>Add Nvidia Repository: <code>sudo dnf config-manager --add-repo http://developer.download.nvidia.com/compute/cuda/repos/rhel9/$(uname -i)/cuda-rhel9.repo</code></li> <li>Add dependencies: <code>sudo dnf install kernel-headers-$(uname -r) kernel-devel-$(uname -r) tar bzip2 make automake gcc gcc-c++ pciutils elfutils-libelf-devel libglvnd-opengl libglvnd-glx libglvnd-devel acpid pkgconfig dkms</code></li> <li>Install Nvidia driver module and cuda:</li> </ol> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>Bash</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span>
<span class=normal><a href=#__codelineno-5-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1></a>dnf<span class=w> </span>module<span class=w> </span>install<span class=w> </span>nvidia-driver:535-dkms
<a id=__codelineno-5-2 name=__codelineno-5-2></a>dnf<span class=w> </span>install<span class=w> </span>cuda-12-2
</code></pre></div></td></tr></table></div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://jamfox.dev/ target=_blank rel=noopener title=jamfox.dev class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1H392c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.6H32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24z"/></svg> </a> <a href=https://github.com/JamFox target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://www.linkedin.com/in/katurv/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://www.instagram.com/karlturvas/ target=_blank rel=noopener title=www.instagram.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://brain.jamfox.dev/ target=_blank rel=noopener title=brain.jamfox.dev class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M184 0c30.9 0 56 25.1 56 56v400c0 30.9-25.1 56-56 56-28.9 0-52.7-21.9-55.7-50.1-5.2 1.4-10.7 2.1-16.3 2.1-35.3 0-64-28.7-64-64 0-7.4 1.3-14.6 3.6-21.2C21.4 367.4 0 338.2 0 304c0-31.9 18.7-59.5 45.8-72.3C37.1 220.8 32 207 32 192c0-30.7 21.6-56.3 50.4-62.6C80.8 123.9 80 118 80 112c0-29.9 20.6-55.1 48.3-62.1 3-28 26.8-49.9 55.7-49.9zm144 0c28.9 0 52.6 21.9 55.7 49.9C411.5 56.9 432 82 432 112c0 6-.8 11.9-2.4 17.4 28.8 6.2 50.4 31.9 50.4 62.6 0 15-5.1 28.8-13.8 39.7 27.1 12.8 45.8 40.4 45.8 72.3 0 34.2-21.4 63.4-51.6 74.8 2.3 6.6 3.6 13.8 3.6 21.2 0 35.3-28.7 64-64 64-5.6 0-11.1-.7-16.3-2.1-3 28.2-26.8 50.1-55.7 50.1-30.9 0-56-25.1-56-56V56c0-30.9 25.1-56 56-56z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["header.autohide", "navigation.tabs", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.tabs.sticky", "content.tabs.link", "search.share", "content.code.annotate", "content.code.copy", "content.action.view", "navigation.indexes", "navigation.prune"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.c8d2eff1.min.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../../../javascripts/tablesort.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>